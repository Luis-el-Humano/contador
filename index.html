<!doctype html>
<html lang="es" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contador de Palabras</title>
  <style>
    :root{
      --bg:#0f172a;          /* slate-900 */
      --panel:#111827;       /* gray-900 */
      --muted:#94a3b8;       /* slate-400 */
      --text:#e5e7eb;        /* gray-200 */
      --accent:#22d3ee;      /* cyan-400 */
      --ring:#38bdf8;        /* sky-400 */
    }
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 20% -10%, #0b1220, transparent),
                  radial-gradient(1000px 500px at 120% 110%, #0b1324, transparent), var(--bg);
      color:var(--text);
      display:grid; place-items:center; padding:24px;
    }
    .app{
      width:min(100%, 980px);
      display:grid; gap:18px;
    }
    header{display:flex; gap:12px; align-items:center; justify-content:space-between}
    h1{font-size:clamp(22px, 2.6vw, 34px); margin:0; letter-spacing:.2px}
    .hint{color:var(--muted); font-size:14px}

    .panel{
      background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.08);
      border-radius:18px; padding:18px; box-shadow:0 10px 30px rgba(0,0,0,.25);
    }

    textarea{
      width:100%; min-height:220px; resize:vertical; padding:16px 18px; line-height:1.55; font-size:16px;
      color:var(--text); background:var(--panel); border-radius:14px; border:1px solid rgba(255,255,255,0.12);
      outline:none; box-shadow: inset 0 0 0 1px transparent;
    }
    textarea:focus{ border-color:var(--ring); box-shadow:0 0 0 4px rgba(56,189,248,.2) }

    .counter{
      display:flex; align-items:end; justify-content:center; text-align:center; gap:16px; flex-wrap:wrap;
      padding:24px; border-radius:18px; background:linear-gradient(180deg, rgba(34,211,238,.12), rgba(34,211,238,.04));
      border:1px solid rgba(34,211,238,.35);
    }
    .count{ font-variant-numeric: tabular-nums; line-height:1; font-weight:800;
      font-size: clamp(54px, 14vw, 170px);
      text-shadow: 0 8px 40px rgba(34,211,238,.25);
    }
    .label{ font-size:clamp(14px, 2.3vw, 24px); color:var(--muted); margin-bottom:10px }

    .toolbar{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between }
    .btn{
      appearance:none; border:1px solid rgba(255,255,255,.18); background:#0b1324; color:var(--text);
      padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600;
      transition: transform .06s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow:0 10px 22px rgba(0,0,0,.28) }
    .btn:focus{ outline:none; border-color:var(--ring); box-shadow:0 0 0 4px rgba(56,189,248,.2) }

    .small{ font-size:13px; color:var(--muted) }

    footer{
      margin-top:20px; text-align:center; font-size:14px; color:var(--muted);
    }
  </style>
</head>
<body>
  <main class="app" role="main">
    <header>
      <h1>Contador de palabras</h1>
      <span class="hint">Escribe o pega tu texto para contar al instante</span>
    </header>

    <section class="panel" aria-label="Área de texto para conteo de palabras">
      <textarea id="texto" placeholder="Empieza a escribir aquí..."></textarea>
      <div class="toolbar" style="margin-top:10px">
        <button class="btn" id="limpiar" type="button">Limpiar</button>
        <span class="small" id="detalle">0 caracteres • 0 líneas</span>
      </div>
    </section>

    <section class="counter" aria-live="polite" aria-atomic="true">
      <div class="count" id="numero">0</div>
      <div class="label" id="etiqueta">palabras</div>
    </section>
  </main>

  <footer>
    Desarrollado por: <strong>Jorge Luis Escobar Morelos</strong>
  </footer>

  <script>
    const $ = (sel) => document.querySelector(sel);
    const textarea = $('#texto');
    const numero = $('#numero');
    const etiqueta = $('#etiqueta');
    const detalle = $('#detalle');
    const limpiar = $('#limpiar');

    function contarPalabras(texto){
      // Normaliza espacios y saltos de línea
      const t = texto.trim();
      if (!t) return 0;
      // Divide por espacios en blanco; cuenta tokens que tengan letras o números (soporta Unicode)
      const tokens = t.split(/\s+/);
      const validos = tokens.filter(tok => /[\p{L}\p{N}]/u.test(tok));
      return validos.length;
    }

    function actualizar(){
      const val = textarea.value;
      const palabras = contarPalabras(val);
      numero.textContent = palabras.toLocaleString('es-MX');
      etiqueta.textContent = palabras === 1 ? 'palabra' : 'palabras';

      const caracteres = val.length.toLocaleString('es-MX');
      const lineas = (val.match(/\n/g)?.length ?? 0) + 1;
      detalle.textContent = `${caracteres} caracteres • ${lineas} ${lineas===1?'línea':'líneas'}`;
    }

    textarea.addEventListener('input', actualizar);
    limpiar.addEventListener('click', () => { textarea.value = ''; actualizar(); textarea.focus(); });

    // Pega y cuenta de inmediato
    textarea.addEventListener('paste', () => setTimeout(actualizar));

    // Inicial
    actualizar();
  </script>
</body>
</html>
